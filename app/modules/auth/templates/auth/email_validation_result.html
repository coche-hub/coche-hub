{% extends "base_template.html" %}

{% block title %}Email Validation{% endblock %}

{% block content %}

<h1 class="h3 mb-3">Email Validation</h1>

<div class="row">
    <div class="col-12 col-md-8 col-lg-6">
        {% if success %}
        <div class="card shadow-sm">
            <div class="card-header card-dark">
                <h5 class="card-title mb-0" style="color: white; font-size: 15px;">
                    <i class="align-middle" data-feather="check-circle"></i> Success
                </h5>
            </div>
            <div class="card-body">
                <p class="card-text">Your email has been successfully validated!</p>
                <div class="mt-3">
                    <a href="{{ url_for('profile.my_profile') }}" class="btn btn-primary">Go to My Profile</a>
                    <a href="{{ url_for('public.index') }}" class="btn btn-secondary">Go to Home</a>
                </div>
            </div>
        </div>
        {% else %}
        <div class="card shadow-sm">
            <div class="card-header" style="background-color: #dc3545;">
                <h5 class="card-title mb-0" style="color: white; font-size: 15px;">
                    <i class="align-middle" data-feather="x-circle"></i> Validation Failed
                </h5>
            </div>
            <div class="card-body">
                <p class="card-text">We could not validate your email address.</p>
                <p class="card-text">This may have happened because:</p>
                <ul>
                    <li>The validation link has expired (links are valid for 15 minutes)</li>
                    <li>The validation code is invalid</li>
                    <li>Your email has already been validated</li>
                </ul>
                <div class="mt-3">
                    {% if current_user.is_authenticated and not current_user.email_validated %}
                    <a href="{{ url_for('profile.my_profile') }}" class="btn btn-primary">Request New Validation Email</a>
                    {% endif %}
                    <a href="{{ url_for('public.index') }}" class="btn btn-secondary">Go to Home</a>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>

{% endblock %}

{% block scripts %}
    <script src="{{ url_for('auth.scripts') }}"></script>
{% endblock %}
